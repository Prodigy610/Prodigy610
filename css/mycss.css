/*document.addEventListener('mousemove', e => {
    Object.assign(document.documentElement, {
        style: `
        --move-x: ${(e.clientX - window.innerWidth / 2) * -.01}deg;
        --move-y: ${(e.clientY - window.innerHeight / 2) * -.02}deg;
        `
      
    })
})

if (window.DeviceOrientationEvent) {
    window.addEventListener('deviceorientation', (event) => {
        let gamma = event.gamma; // Лево-право (-90 до 90)
        let beta = event.beta;   // Верх-низ (-180 до 180)

        // Ограничим диапазон значений для плавности
        gamma = Math.min(Math.max(gamma, -30), 30);
        beta = Math.min(Math.max(beta, -30), 30);

        document.documentElement.style.setProperty('--move-x', gamma * 0.5 + 'deg');
        document.documentElement.style.setProperty('--move-y', beta * 0.5 + 'deg');
    });
} else {
    console.log('DeviceOrientationEvent не поддерживается этим устройством.');
}
*/





// Устанавливаем начальное положение для эффекта параллакса
let initialGamma = 0;
let initialBeta = 0;
let isInitialized = false; // Флаг для отслеживания начального положения

// Добавляем эффект параллакса при движении мыши
document.addEventListener('mousemove', e => {
    Object.assign(document.documentElement, {
        style: `
        --move-x: ${(e.clientX - window.innerWidth / 2) * -.01}deg;
        --move-y: ${(e.clientY - window.innerHeight / 2) * -.02}deg;
        `
    });
});

// Проверяем поддержку DeviceOrientationEvent
if (window.DeviceOrientationEvent) {
    window.addEventListener('deviceorientation', (event) => {
        let gamma = event.gamma; // Лево-право (-90 до 90)
        let beta = event.beta;   // Верх-низ (-180 до 180)

        // Если начальные значения ещё не установлены
        if (!isInitialized) {
            initialGamma = gamma || 0; // Устанавливаем начальное значение gamma
            initialBeta = beta || 0;   // Устанавливаем начальное значение beta
            isInitialized = true;
        }

        // Скорректируем значения, вычитая начальное положение
        let correctedGamma = gamma - initialGamma;
        let correctedBeta = beta - initialBeta;

        // Коэффициенты для управления чувствительностью отклонений
        const gammaSensitivity = 0.5; // Чувствительность для оси X
        const betaSensitivity = 0.5;  // Чувствительность для оси Y

        // Ограничим диапазон значений для плавности
        correctedGamma = Math.min(Math.max(correctedGamma, -30), 30);
        correctedBeta = Math.min(Math.max(correctedBeta, -30), 30);

        // Устанавливаем значения CSS-переменных
        document.documentElement.style.setProperty('--move-x', correctedGamma * gammaSensitivity + 'deg');
        document.documentElement.style.setProperty('--move-y', correctedBeta * betaSensitivity + 'deg');
    });
} else {
    console.log('DeviceOrientationEvent не поддерживается этим устройством.');
}
